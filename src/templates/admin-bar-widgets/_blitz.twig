{% set widgetElement = widgetConfig['cachedDate'] ?? false ? 'admin-bar-button' : 'admin-bar-text' %}

{% set widgetContent %}
  <div style="aspect-ratio: 1; width: 0.85em; border: 1px solid var(--admin-bar-color-text); border-radius: 50%; background-color: {{ widgetConfig['cached'] ? '#fec136' : '#333f4c' }};"></div>
  {{ displayWidgetLabels ? widgets[pluginHandle].name : '' }}
  {{ widgetConfig['cached'] ? 'Cached'|t('admin-bar') : 'Uncached'|t('admin-bar') }}

  {% if widgetConfig['cachedDate'] ?? false %}
    <div slot="popover">
      <admin-bar-text
          label-content="{{ widgetConfig['cachedDate']|datetime('short') }}"
          label-position="after"
      >{{ 'Cached Date'|t('admin-bar') }}</admin-bar-text>
    </div>
  {% endif %}
{% endset %}
<{{ widgetElement }}
class="admin-bar-widget"
title="{{ widgets[pluginHandle].name }}"
style="--admin-bar-icon-width: 1.5rem"
>{{ widgetContent }}</{{ widgetElement }}>

