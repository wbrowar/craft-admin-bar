@import url(admin-bar-component/dist/admin-bar.css);

@keyframes admin-bar-api-status-error {
  0% { --admin-bar-api-status-color: color-mix(in srgb, var(--admin-bar-color-highlight), black 50%) }
  100% { --admin-bar-api-status-color: var(--admin-bar-color-highlight) }
}

@layer admin-bar {
  admin-bar {
    /* Change the line below Admin Bar based on API status. */
    craft-admin-bar[data-api-status="errored"] & {
      --admin-bar-api-status-animation: admin-bar-api-status-error 1s ease-in-out alternate-reverse infinite;
      --admin-bar-api-status-transition: none;
      --admin-bar-api-status-width: 100%;
    }
    craft-admin-bar[data-api-status="loading"] & {
      --admin-bar-api-status-width: 50%;
    }
    craft-admin-bar[data-api-status="ready"] & {
      --admin-bar-api-status-color: color-mix(in srgb, var(--admin-bar-color-highlight), transparent 100%);
      --admin-bar-api-status-width-delay: var(--admin-bar-transition-duration, 0s);
    }
    craft-admin-bar[data-api-status="resolved"] & {
      --admin-bar-api-status-width: 100%;
    }

    /* Adds a line below Admin Bar to show API status.*/
    &:after {
      content: "";
      display: block;
      position: absolute;
      bottom: 0;
      left: 0;
      width: var(--admin-bar-api-status-width, 0);
      height: var(--admin-bar-glass-thickness, 2px);
      background-color: var(--admin-bar-api-status-color, var(--admin-bar-color-highlight));
      box-shadow: 0 0 16px var(--admin-bar-api-status-color, var(--admin-bar-color-highlight));
      animation: var(--admin-bar-api-status-animation);
      transition: var(--admin-bar-api-status-transition, background-color var(--admin-bar-transition-duration, 0s) ease-out, width calc(var(--admin-bar-transition-duration, 0s) * 2) var(--admin-bar-api-status-width-delay, 0s) ease-in);
    }
  }
}

admin-bar {
  --admin-bar-bg-color: oklch(0.131 0.036 248.399);
  --admin-bar-color-highlight: oklch(0.55 0.23 28.77);
  --craft-admin-bar-color-input-bg: rgb(255 255 255 / .9);
  --craft-admin-bar-color-input-text: oklch(0.55 0.23 28.77);

  & svg.icon {
    display: block;
    width: var(--admin-bar-icon-width, 1rem);
    height: auto;

    & :is(circle, ellipse, line, path, polygon, polyline, rect, text) {
      fill: currentColor !important;
    }
  }
}
.admin-bar-widget {
  &::part(popover) {
    max-height: calc(90dvh - var(--admin-bar-height) - clamp(4px, 1vw, 13px));

    & a:not(.admin-bar-button) {
      text-decoration: underline;
      color: var(--admin-bar-button-popover-color-text, rgb(255, 255, 255));
      transition: color var(--admin-bar-transition-duration) ease-out;

      &:hover {
        color: color-mix(in srgb, currentColor, transparent 30%);
      }
    }
  }

  &:is(.admin-bar-widget--blitz, .admin-bar-widget--published) admin-bar-text::part(dl) {
    grid-template-columns: max-content max-content;
  }
  &.admin-bar-widget--navigation {
    span:has(a svg) {
      & a {
        transition: color var(--admin-bar-transition-duration) ease-out, opacity calc(var(--admin-bar-transition-duration) * .5) ease-out !important;
        opacity: 0;
      }
      &:hover {
        & a {
          opacity: 1;
        }
      }
    }
  }
}
